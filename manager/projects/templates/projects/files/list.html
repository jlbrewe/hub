{% extends '../base.html' %}
{% load i18n %}

{% block title %}Files : {{ project.name }}{% endblock %}

{% block projects_content %}
{% include '../_project_hero.html' %}
<hr />

<div class="level is-mobile">
  <div class="level-left">
    {% if files %}
    <div class="level-item">
      <form class="field">
        <label class="is-sr-only" for="file-filter">
          {% trans "File filter" %}
        </label>
        <div class="control has-icons-left has-icons-right">
          <input id="file-filter" class="input is-small-mobile" type="text" name="search"
                 placeholder="{% trans "Filter files by nameâ€¦" %}" hx-trigger="keyup changed delay:500ms"
                 {# TODO: Repalce with file search API #} hx-get="{% url 'api-projects-sources-list' project.id %}"
                 hx-template="projects/files/_list.html" hx-indicator="#file-filter-indicator" hx-target="#source-list">
          <span class="icon is-small is-left">
            <i class="ri-filter-line"></i>
          </span>
          <span id="file-filter-indicator" class="icon is-small is-right htmx-indicator">
            <i class="ri-loader-line"></i>
          </span>
        </div>
      </form>
    </div>
    {% endif %}
  </div>

  <div class="level-right">
    {% include '../_new_asset_menu.html' %}
  </div>
</div>

{% include './_list.html' %}
{% endblock %}
